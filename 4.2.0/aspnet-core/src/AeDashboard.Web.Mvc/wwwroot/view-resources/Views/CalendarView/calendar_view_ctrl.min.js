(function(){"use strict";function n(n,t,i,r,u,f){function s(){i.load=0;localStorage.removeItem("count");moment().locale("vi");c();var n=(new Date).getFullYear()+"-W"+f.getWeek(new Date);i.week=moment(n).toDate()}function h(){r.location.reload()}function c(){$(window).scroll(function(){var n=$(document).height()-$(window).height()-$(window).scrollTop(),t=!1;n>=0&&n<=9&&(t=!0);n>=400&&n<=410&&(t=!0);n>=300&&n<=310&&(t=!0);n>=50&&n<=60&&(t=!0);n>=100&&n<=110&&(t=!0);n>=150&&n<=160&&(t=!0);n>=200&&n<=210&&(t=!0);t&&(i.count=i.count+1,e(i.count,i.search),console.log("$scope.count "+i.count))})}function l(n,r,u){var e={Skip:n,Take:r,Week:u};f.loading(!0);t.get("/Calendar/SearchWeek",{params:e}).then(function(n){i.getAll=n.data.result;setTimeout(function(){f.setColspan()},100);f.loading(!1)})}function e(n,r){var u={Count:n,Search:r};f.loading(!0);t.get("/Calendar/SearchName",{params:u}).then(function(n){for(var t=0;t<n.data.result.length;t++)i.getAll.push(n.data.result[t]);f.loading(!1);setTimeout(function(){f.setColspan()},100)})}function a(n,r,u){f.loading(!0);var e={Skip:n,Take:r,Date:u};t.get("/Calendar/SearchDate",{params:e}).then(function(n){i.getAll=n.data.result;setTimeout(function(){f.setColspan()},100);f.loading(!1)})}var o=this;i.getAll=[];o.title="calendar_view_ctrl";i.count=15;s();i.$watch("week",function(){if(console.log("week "+i.week+"  "+i.load),i.load==2){var n=u("date")(i.week,"yyyy-ww");l(0,0,n)}i.load!=2&&(i.load=2)});i.$watch("searchDate",function(){if(i.load==1){var n=i.searchDate;a(0,0,n)}i.load!=1&&(i.load=1)});i.$watch("search",function(){i.count=15;var n=i.search;i.getAll=[];e(i.count,n)});i.hoverIn=function(){this.hoverEdit="show"};i.formatDate=function(n){return f.formatDate(n,1)};i.hoverOut=function(){this.hoverEdit="hide"};i.showEdit=function(){};i.edit_caladarView=function(n){var i="/Calendar/EditCalendarViewModal?id="+n;t.get(i).then(function(n){$("#editCalendarView div.modal-body").html(n.data)})};i.delete_item=function(n){var i="/Calendar/Delete?id="+n;t.get(i).then(function(){h()})};i.showBtns=function(){}}app.controller("ctrl",n);n.$inject=["$location","$http","$scope","$window","$filter","factory"]})();$(document).ready(function(){function n(){if($(window).width()>768){var n=$(".table-row:first").width(),t=$(".table-cell-or-item:first").width(),i=t-n;$(".table-cell-or-item.colspan").css("margin-right",i+"px").show()}}n();$(window).resize(function(){n()});$(window).scroll(function(){$(window).scrollTop()==$(document).height()-$(window).height()&&n()});$(".table-cell-or-item").on("click",function(n){var i,t;n.preventDefault;i=$(this).position();$(".ae-list-btn").hasClass("active")==!1;t=$(this).height()+i.top-$(".ae-list-btn").height()+10;$(window).width()<768&&(t=i.top);console.log("top"+t);$(".ae-list-btn").removeClass("active").delay(300);$(".ae-list-btn").addClass("active");$(".ae-list-btn").css({top:t});$(".as-btns").css({top:t})});$(window).on("load",function(){n()});window.onload=function(){n()}}),function(n){n(".ae-tb-body").hover(function(){console.log("toiday");n(".ae-update").removeClass("show");n(this).find(".ae-update").addClass("show")})}(jQuery);